"use strict";var popoverSubject=new rxjs.Subject();var isShowPopover=false;$(function(){var a=document.getElementById("q");if(a){var b=new URL(location.href);var c=b.searchParams.get("q");if(c){a.focus({preventScroll:true});$(a).val(c);executeSearch()}}if($("html").attr("lang")!=="en"){$("span.i18n").each(function(d,e){$(e).on("mouseover",function(){popoverSubject.next(e)})});popoverSubject.pipe(rxjs.operators.distinctUntilChanged(),rxjs.operators.filter(function(d){return d!==null}),rxjs.operators.debounceTime(1000)).subscribe(function(d){showPopover(d)})}$("body").on("click",function(){hidePopover()})});function showPopover(k){hidePopover();var g=$("html").attr("lang");var n=$('head meta[name="x-i18n-doc"]').attr("content");var d=$(k);var i=d.attr("data-i18n");var h=d.attr("data-i18n-hash");var o=getSourceText(k);var e=getTargetText(k);var m=$('head meta[name="x-github"]').attr("content");var b=m+"/issues/new?"+$.param({template:"translate.md",title:g+"/"+n+"/"+i+"/"+h,body:"> "+o+"\r\r"+e,labels:["translate"].join(",")});var l=d.attr("data-popover")==="menu";var f=l?"left":"top";var a=l?"main":"body";var j="Feedback";var c="Close";switch(g){case"ja":j="翻訳を改善";c="閉じる";break}d.popover({offset:200,container:a,placement:f,html:true,sanitize:false,title:"English",content:o+'<br><br><div class="d-flex"><a class="btn btn-primary mr-3" target="_blank" href="'+b+'">'+j+'</a></span><a class="btn btn-secondary ml-auto" href="javascript:void(0);" onclick="hidePopover()">'+c+"</a></div>",template:'<div class="popover shadow" role="tooltip"><div class="arrow"></div><h3 class="m-0 popover-header"></h3><div class="popover-body"></div></div>'}).on("shown.bs.popover",function(){isShowPopover=true;d.addClass("i18n-active")}).on("hidden.bs.popover",function(){d.removeClass("i18n-active")}).popover("show")}function hidePopover(){isShowPopover=false;popoverSubject.next(null);$(".popover").each(function(){$(this).popover("hide")})}function getSourceText(b){var a=Array.prototype.slice.call(b.childNodes);var c=a.filter(function(e){return e.nodeType===8});if(c.length===0){return}var d=c[0];return d.data.trim()}function getTargetText(a){return $(a).find("span.i18n-target").html().trim()}function executeSearch(){var b=$("#q").val().toLowerCase().trim().split(/\s+/).map(function(c){return c.trim()}).filter(function(c){return c.length>0});var a=$("#entries div.entry-group");a.unmark();if(b.length===0){a.find("li").show();a.show();return}a.each(function(e,f){var d=$(f);var g=d.find("li");var c=false;g.each(function(l,k){var j=$(k);var m=j.find("a[title]");var o=(j.text().trim()+" "+(m.attr("title")||"").trim()).toLowerCase().trim();var h=0;for(var n=0;n<b.length;n++){var i=b[n];if(o.indexOf(i)!==-1){h++;j.mark(i)}}if(h>=b.length){j.show();c=true}else{j.hide()}});if(c){d.show()}else{d.hide()}})};